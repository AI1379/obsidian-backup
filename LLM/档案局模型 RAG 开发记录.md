---
tags:
  - 日志
  - RAG
  - LLM
---

### 2025-10-14

近期尝试进行RAG系统的设计，目前有几个思路：

- 关键词匹配+向量数据库
- 分层数据库
- Rerank 模型

## 2025-10-17

大致完成了对 [[huangRetrievalAugmentedGenerationHierarchical2025|HiRAG]] 的阅读，计划参考其官方实现重新实现一遍其算法。目前有一个 10.22 的 ddl，因此考虑使用简单的RAG先写一版处理脚本。

## 2025-10-18

翻阅 llamaindex 文档的时候注意到有内置的混合增强检索，考虑使用。

使用 BM5Retriever 的混合检索效果不佳，怀疑是参数没有设置准确。

## 2025-10-19

完成目录整理工作的相关脚本。目前遇到的问题包括：

1. 召回率仍然不够理想，但是目前不太好量化具体的召回率。考虑添加 Hybrid Retriever 解决。
2. 容易遇到 Rate Limit 。似乎没有很好的解决办法。可以考虑自己用 ollama 重新搭一个，但是显存不一定够。

## 2025-10-20

完成了 10.22 ddl的初稿。明天考虑加上混合检索出第二版稿件。

## 2025-10-22

考虑准备一套数据集进行测试，测试内容包括：

1. `Precision@k` ：在 Top-K 中相关内容的数量
2. `Recall@k`：所有相关内容中多少被 Top-K 召回
3. `MRR`：第一个相关文档出现位置
4. `NDCG`：考虑相关性等级和位置

下阶段目标：

- [ ] 提供一个简单的GUI
- [ ] 优化资料召回准确率
- [ ] 添加自定义排序方案

目前的考虑仍然是走 RAG 的方案，但是可能也会考虑一些搜索引擎方向的文献。

## 2025-10-23

开始进行 HiRAG 的移植工作，计划使用一个星期。计划基于 LLaMaIndex 提供的现有工具完成移植工作。

## 2025-11-04

完成 Hybrid Search 的相关工作和部署。准备接入 API 。

## 2025-11-09

完成了第一版后端服务器的代码。还有一些改进方案：

- [x] 加入流式传输
- [x] 异步初始化
- [ ] 测试并发能力
- [ ] 修改 Prompt 从而提高 Summary 的性能
- [x] 加入计时器

## 2025-11-11

后端基本完工，但是还需要重构；另外 RAG 的部分仍有待优化。
